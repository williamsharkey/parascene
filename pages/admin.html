<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <meta name="supported-color-schemes" content="light dark" />
    <title>parascene - Admin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <meta name="theme-color" content="#242131" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Parascene" />
    <link rel="apple-touch-icon" href="/icons/icon-180.png" />
    <link rel="stylesheet" href="/global.css" />
    <link rel="stylesheet" href="/admin.css" />
    <script type="module" src="/global.js"></script>
  </head>
  <body>
    <app-header show-notifications hide-notifications show-profile hide-credits show-mobile-menu default-route="todo">
      <a data-route="todo">Todo</a>
      <a data-route="users">Users</a>
      <a data-route="providers">Servers</a>
      <!-- <a data-route="moderation">Moderation</a> -->
      <!-- <a data-route="policies">Policies</a> -->
    </app-header>
    <app-profile></app-profile>
    <app-credits></app-credits>
    <app-notifications></app-notifications>

    <main>
      <!--
      <section data-route-content="moderation">
        <h3>Moderation</h3>
        <div id="moderation-container" class="admin-cards">
          <div class="admin-loading">Loading...</div>
        </div>
      </section>
      -->

      <section data-route-content="providers">
        <h3>Servers</h3>
        <div id="providers-container" class="admin-cards">
          <div class="admin-loading">Loading...</div>
        </div>
      </section>

      <!--
      <section data-route-content="policies">
        <h3>Policies</h3>
        <div id="policies-container" class="admin-cards">
          <div class="admin-loading">Loading...</div>
        </div>
      </section>
      -->
      <section data-route-content="users">
        <h3>Users</h3>
        <div id="users-container" class="users-cards">
          <div class="users-loading">Loading...</div>
        </div>
      </section>

      <section data-route-content="todo">
        <div class="todo-header">
          <h3>Todo</h3>
          <div class="todo-mode-toggle" data-todo-mode-toggle role="group" aria-label="Priority formula">
            <button type="button" class="todo-mode-button" data-todo-mode="pre" aria-pressed="true">Gated</button>
            <button type="button" class="todo-mode-button" data-todo-mode="post" aria-pressed="false">Ratio</button>
          </div>
        </div>
        <div class="todo-layout">
          <div id="todo-list" class="todo-list">
            <div class="todo-loading">Loading...</div>
          </div>
        </div>
      </section>
    </main>

    <div id="todo-modal" class="publish-modal-overlay" data-todo-modal role="dialog" aria-modal="true" aria-labelledby="todo-modal-title">
      <div class="publish-modal">
        <header class="publish-modal-header todo-modal-header">
          <button type="button" class="publish-modal-close" data-todo-close aria-label="Close">✕</button>
        </header>
        <div class="publish-modal-body">
          <form id="todo-modal-form" class="todo-modal-form">
          <input type="hidden" name="mode" value="add" />
          <input type="hidden" name="originalName" value="" />
          <label>
            Name
            <input type="text" name="name" required />
          </label>
          <label>
            Description
            <textarea name="description" rows="3" required></textarea>
          </label>
          <label class="todo-slider">
            Cost
            <input type="range" name="time" min="1" max="100" required />
            <div class="todo-slider-meta">
              <span>Low</span>
              <span class="todo-slider-value" data-slider-value="time">50</span>
              <span>High</span>
            </div>
          </label>
          <label class="todo-slider">
            Impact
            <input type="range" name="impact" min="1" max="100" required />
            <div class="todo-slider-meta">
              <span>Low</span>
              <span class="todo-slider-value" data-slider-value="impact">50</span>
              <span>High</span>
            </div>
          </label>
          <div class="todo-modal-actions">
            <button type="button" class="todo-modal-delete" data-todo-delete>Delete</button>
            <button type="submit" class="todo-modal-submit btn-primary">Save</button>
          </div>
          </form>
        </div>
      </div>
    </div>

    <div id="todo-readonly-modal" class="publish-modal-overlay" data-todo-readonly role="dialog" aria-modal="true" aria-labelledby="todo-readonly-title">
      <div class="publish-modal todo-readonly-modal">
        <header class="publish-modal-header todo-modal-header">
          <button type="button" class="publish-modal-close" data-todo-readonly-close aria-label="Close">✕</button>
        </header>
        <div class="publish-modal-body todo-readonly-body">
          <div class="todo-readonly-title" id="todo-readonly-title"></div>
          <div class="todo-readonly-description" data-todo-readonly-description></div>
          <div class="todo-readonly-dials">
            <div class="todo-readonly-dial">
              <div class="todo-card-dial" data-todo-readonly-dial="time"></div>
              <div class="todo-readonly-dial-label">Cost</div>
            </div>
            <div class="todo-readonly-dial">
              <div class="todo-card-dial" data-todo-readonly-dial="impact"></div>
              <div class="todo-readonly-dial-label">Impact</div>
            </div>
          </div>
          <div class="todo-readonly-actions">
            <button type="button" class="todo-readonly-dismiss btn-primary" data-todo-readonly-close>
              Dismiss
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="server-modal" class="publish-modal-overlay" data-server-modal role="dialog" aria-modal="true" aria-labelledby="server-modal-title">
      <div class="publish-modal server-modal">
        <header class="publish-modal-header">
          <h3 id="server-modal-title" class="server-modal-title">Server Details</h3>
          <button type="button" class="publish-modal-close" data-server-close aria-label="Close">✕</button>
        </header>
        <div class="publish-modal-body server-modal-body">
          <div id="server-modal-content" class="server-modal-content">
            <div class="server-loading">Loading...</div>
          </div>
        </div>
      </div>
    </div>

    <script src="/admin.js" defer></script>
  </body>
</html>
